header
  padding 28px 0 20px
  border-bottom 1px solid lightgrey
  background gray6

  h1
    clear left
    padding-top 1em

    em
      color npmred
      font-style normal

    @media only screen and (max-width: 767px)
      font 400 28px/46px fonts
      letter-spacing -1px

      &:before
        float left
        margin-right 4px
        margin-top 6px

nav
  height 38px
  color background-color
  font-size 14px
  font-weight 600
  line-height 39px
  text-align right
  border-bottom 1px solid darken(npmred, 10%)
  background npmred
  overflow hidden

  @media only screen and (max-width: 767px)
    display none
    position absolute
    top 86px
    left 0
    right 0
    border-bottom 0
    background gray6
    z-index 12

  h2
    a
      margin 0
      text-decoration none
      border none
      opacity 1
      color rgba(background-color, 0.6)
      padding-right 100px
      &:hover
        text-decoration none
        border none

  a
    display inline-block
    line-height 36px
    padding 0 10px
    margin 0
    opacity .7
    color background-color
    text-decoration none
    background npmred
    transition all 0.1s

    &:hover, &.active
      opacity 1
      text-decoration none
      background darken(npmred, 20%)

    @media only screen and (max-width: 767px)
      display block
      text-align center
      margin 0
      background npmred
      opacity 1
      border-bottom 1px solid white

      &:hover
        color npmred
        background gray6
        border-bottom 1px solid white

    &#mobile-home
      visibility hidden

      @media only screen and (max-width: 767px)
        visibility visible

  h2
    float left
    font 400 14px/39px fonts
    color background-color

    @media only screen and (max-width: 767px)
      display none

  .container
    @media only screen and (max-width: 767px)
      padding 0

#mobile-menu
  display none
  position absolute
  top 4px
  right 15px
  width 50px
  height 36px
  text-indent -9999em
  background url(../img/ico-mobile-menu.png) no-repeat top right

  @media only screen and (max-width: 767px)
    display block

  @media only screen
    background url(../img/ico-mobile-menu@2x.png) no-repeat top right
    background-size 26px 18px

#secondary-nav
  min-height 65px
  margin 0 0 75px
  background url(../img/secondary-nav-bg.png) repeat-x bottom left

  @media only screen and (max-width: 767px)
    min-height 45px

  a
    display inline-block
    height 63px
    margin 0 30px 0 0
    line-height 65px
    font 600 16px/65px fonts
    color text-color-subdued

    @media only screen and (max-width: 767px)
      font 600 13px/45px fonts
      height 43px
      margin 0 15px 0 0

    &:hover, &.active
      color gray2
      border-bottom 2px solid npmred

#profile-nav
  min-height 67px
  margin 0 0 95px
  background url(../img/secondary-nav-bg.png) repeat-x bottom left

  @media only screen and (max-width: 767px)
    position relative
    margin 0 0 50px
    background none

  .container
    padding-left 170px
    max-width 1010px

    @media only screen and (max-width: 767px)
      padding-left 0
      position absolute
      top -80px
      left 105px

  a
    display inline-block
    height 67px
    margin 0 30px 0 0
    font 600 16px/67px fonts
    color text-color-subdued

    &:before
      margin-right 8px
      float left
      line-height 69px

      @media only screen and (max-width: 767px)
        line-height 15px

    @media only screen and (max-width: 767px)
      display inline-block
      height auto
      margin 0 10px 0 0
      font 600 13px/15px fonts
      color rgba(255,255,255,.4)

    &:hover
      color gray2

#npm-logo
  float left
  margin-right 7%

  @media only screen and (max-width: 767px)
    margin 0
    img
      display block
      width 80px

#npm-search
  float left
  position relative
  width 53%
  height 47px
  padding 0
  margin 0
  border 1px solid gray5
  border-radius 2px
  background white

  @media only screen and (max-width: 1023px)
    width 45%

  @media only screen and (max-width: 767px)
    margin-top: 2em;
    width: 100%;

  &.custom #npm-search
    border 0

#site-search
  position absolute
  top 7px
  left 20px
  width 80%
  height 30px
  padding 0
  margin 0
  border 0
  outline 0
  font-weight 300
  font-family fonts
  font-size 18px
  background none

#site-search-submit
  position absolute
  top 0
  right 0
  height 47px
  width 46px
  border 0
  text-indent -9999em
  cursor pointer
  outline 0
  border-left 1px solid gray5
  border-radius 0 2px 2px 0
  background url(../img/ico-search.png) no-repeat 50% 50%


  &:hover
    width 47px
    height 49px
    top -1px
    right -1px
    border-left 0
    background: npmred url(../img/ico-search-hover.png) no-repeat 50% 50%

userInfoAvatarSize = 45px
userInfoAvatarSizeMobile = 25px

#user-info
  position absolute
  top 0
  right 20px
  float none
  clear both

  img
    float right
    display block
    width userInfoAvatarSize
    margin 0 0 0 10px
    border-radius 2px

  ul
    float right
    display block
    margin 0
    padding 0
    text-align right
    li
      list-style none
    &.single li
      line-height userInfoAvatarSize
      vertical-align top

  @media only screen and (max-width: 767px)
    margin-top 0
    margin-right 40px
    ul
      li
        display block
        float left
        padding-left 10px
        &.username
          display none
      &.single li
        line-height userInfoAvatarSizeMobile
    img
      width userInfoAvatarSizeMobile

    &.anonymous
      img
        display none

  a
    &.subdued
      color gray4
      font-size 14px


  #header-buttons
    position absolute
    right 20px
    top 134px
    z-index 7

    @media only screen and (max-width: 1023px)
      display none
      width 140px
      border 1px solid gray5
      border-radius 4px
      background white

    @media only screen and (max-width: 767px)
      top 120px

    a
      float left
      display inline-block
      height 31px
      text-align center
      margin 0
      color text-color-subdued
      padding 0 15px
      font 600 13px/31px fonts
      border 1px solid gray5
      border-width 1px 0 1px 1px
      background white

      &:before
        margin-right 8px
        float left
        margin-top 9px

      &:hover
        color background-color
        border-color npmred
        background npmred

      @media only screen and (max-width: 1023px)
        display block
        float none
        border-width 0 0 1px 0
        text-align right

      span
        margin 0 0 0 5px

      &.owner
        color background-color
        border-color npmred
        background npmred

        &:hover
          color text-color-subdued
          border-color gray5
          background white

      &:first-child
        border-radius 4px 0 0 4px

        @media only screen and (max-width: 1023px)
          border-radius 0

      &:last-child
        border-radius 0 4px 4px 0
        border-right 1px solid gray5

        @media only screen and (max-width: 1023px)
          border-width 0
          border-radius 0

  &.custom
    &.dark
      h1
        color background-color

      #user-info
        color background-color

        a, h6
          color background-color

    #header-buttons
      @media only screen and (max-width: 1023px)
        display none
        width 140px
        border 0
        border-radius 4px
        background white

      a
        float left
        display inline-block
        height 31px
        text-align center
        margin 0 0 0 1px
        color background-color
        padding 0 15px
        border 0
        font 600 13px/31px fonts
        background rgba(255,255,255,.4)

        &:hover
          color gray2
          background white

        @media only screen and (max-width: 1023px)
          display block
          float none
          border-bottom 0
          margin 0
          text-align right
          color gray2

          &:first-child
            border-radius 4px 4px 0 0

          &:last-child
            border-width 0
            border-radius 0 0 4px 4px

          &:hover
            color background-color
            background npmred

        &.owner
          background white
          color gray2

          &:hover
            color background-color
            background gray2

  #mobile-header-buttons
    display none
    position absolute
    right 20px
    top 134px
    display inline-block
    height 31px
    padding 0 10px
    font 600 25px/17px fonts
    color gray2
    text-align center
    border 1px solid gray5
    background white
    border-radius 4px

    @media only screen and (max-width: 767px)
      top 120px
      display block

  &.custom #mobile-header-buttons
    border 0
    color background-color
    background rgba(255,255,255,.4)

// Search Auto Suggest

#auto-suggest
  position absolute
  top 47px
  left -1px
  width 89%
  border 1px solid gray5
  border-width 0 1px 1px
  border-radius 0 0 2px 2px
  font 600 13px/18px fonts
  color text-color-subdued
  background white
  z-index 200

  // A little obessive, maybe
  @media only screen and (max-width: 1024px)
    width 86.8%

  @media only screen and (max-width: 768px)
    width 79.5%

  @media only screen and (max-width: 767px)
    width 80.2%

  @media only screen and (max-width: 767px)
    width 74.7%

  @media only screen and (orientation: landscape)
    width 86.6%

  #auto-suggest-nav
    padding 8px 0 0 20px
    border-bottom 1px solid gray5

    a
      display inline-block
      text-transform uppercase
      font 600 12px/12px fonts
      color text-color-subdued
      margin 0 10px 0 0
      padding 0 0 12px

      &:hover, &.active
        color text-color
        padding 0 0 10px
        border-bottom 2px solid gray

  dl

    dt
      padding 10px 20px 0

      a
        color npmred
        font-size 18px

      p
        margin 0

    dd
      color text-color
      padding 8px 20px
      border-bottom 1px solid gray5

      span
        float right
        margin 0 0 0 20px

        &:before
          margin-right 6px

      em
        font-style normal
        font-weight 400

#auto-suggest-bottom
  padding 10px 20px
  background gray6
